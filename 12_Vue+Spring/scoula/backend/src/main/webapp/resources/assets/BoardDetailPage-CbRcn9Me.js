import{_ as g,b as q,u as C,a as x,c as D,o as r,e as i,f as a,t as c,h as n,q as f,F as p,p as N,g as B,s as S,x as I}from"./index-CmunP76s.js";import{b}from"./boardApi-BemUchxc.js";import{h as Y}from"./moment-C5S46NFB.js";import"./index-DAK0-K4R.js";const F=async o=>{try{const e=document.createElement("a");e.href=o,document.body.appendChild(e),e.click(),document.body.removeChild(e)}catch(e){console.error(e)}},s=o=>(S("data-v-00c4f8ab"),o=o(),I(),o),R={className:"my-3 d-flex justify-content-between"},V=s(()=>a("i",{className:"fa-solid fa-user"},null,-1)),A=s(()=>a("i",{className:"fa-regular fa-clock"},null,-1)),E=s(()=>a("hr",null,null,-1)),H={class:"text-end"},L=["onClick"],M=s(()=>a("i",{class:"fa-solid fa-paperclip"},null,-1)),P={class:"content"},j={class:"my-5"},T=s(()=>a("i",{class:"fa-solid fa-list"},null,-1)),U=s(()=>a("i",{class:"fa-regular fa-pen-to-square"},null,-1)),$=s(()=>a("i",{class:"fa-solid fa-trash-can"},null,-1)),z={__name:"BoardDetailPage",setup(o){const e=q(),l=C(),d=x(),u=l.params.no,t=D({}),y=async _=>{const h="/api/board/download/"+_;await F(h)},v=()=>{d.push({name:"board/list",query:l.query})},k=()=>{d.push({name:"board/update",params:{no:u},query:l.query})},w=async()=>{confirm("삭제할까요?")&&(await b.delete(u),d.push({name:"board/list",query:l.query}))};return(async()=>{t.value=await b.get(u)})(),(_,h)=>(r(),i(p,null,[a("h1",null,c(t.value.title),1),a("div",R,[a("div",null,[V,n(" "+c(t.value.writer),1)]),a("div",null,[A,n(" "+c(f(Y)(t.value.updateDate).format("YYYY-MM-DD HH:mm")),1)])]),E,a("div",H,[(r(!0),i(p,null,N(t.value.attaches,m=>(r(),i("div",{key:m.no,class:"attach"},[a("span",{onClick:J=>y(m.no)},[M,n(" "+c(m.filename),1)],8,L)]))),128))]),a("div",P,c(t.value.content),1),a("div",j,[a("button",{class:"btn btn-primary me-2",onClick:v},[T,n(" 목록 ")]),f(e).username==t.value.writer?(r(),i(p,{key:0},[a("button",{class:"btn btn-primary me-2",onClick:k},[U,n(" 수정 ")]),a("button",{class:"btn btn-danger",onClick:w},[$,n(" 삭제 ")])],64)):B("",!0)])],64))}},X=g(z,[["__scopeId","data-v-00c4f8ab"]]);export{X as default};
